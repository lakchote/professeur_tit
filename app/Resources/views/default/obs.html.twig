{% extends 'base.html.twig' %}

{% block stylesheet %}
    {{ parent() }}
    <link rel="stylesheet" href="{{ asset('assets/css/obs.css') }}">
    <link rel="stylesheet" href="{{ asset('assets/css/modalObs.css') }}">
{% endblock %}


{% block content %}
    <div class="col-xs-offset-2 col-xs-10 padding-left--none">
        <div class="add__obs">
            <a href="" id="obs-load-desktop" class="modal-desktop" data-toggle="modal" data-target="#modal-login-desktop">
                <img class="obs__details--icon" src="{{ asset('assets/img/add_obs.jpg') }}">
                {{ "Ajouter une observation"|trans }}
            </a>
        </div>
    </div>

    <div class="row">
        {% if pagination is defined %}
        <div class="col-md-2">sidebar <br/> {{ pagination.getTotalItemCount }}</div>

                {% include 'blocks/observation.html.twig' %}

        {# display navigation #}
        <div class="navigation">
            {{ knp_pagination_render(pagination) }}
        </div>
        {% endif %}
    </div>

        </div>
{% endblock %}



{% block javascript %}
    {{ parent() }}
    <script type="text/javascript">
        $(function () {
            $('#obs-load-desktop').click(function () {
                $.ajax({
                    url: "{{ path('modal_add_observation') }}",
                    method: "GET"
                }).done(function (msg) {
                    $('#modal-load-desktop').html(msg);
                });
            });
        }());
    </script>

{% endblock %}
